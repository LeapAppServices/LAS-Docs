# 做一个像微信这样的社交应用难么

## 了解微信
微信自己说，我是一种生活方式，好深奥有木有，怎么就是一种生活方式了呢，不就是一个应用么，还是别纠结了，还是让用户自己说吧

路人甲，微信可以聊天、交朋友、发朋友圈、玩游戏、理财、打车、买东西。。。。

路人乙，微信可以发红包，约炮，玩朋友圈。。。

路人丙，微信可以聊天，发朋友圈，看朋友状态。。。

。。。。

最后，你能说微信是什么东西么，我是说不清楚，太多了

但是，至少每个用微信的人，都知道微信能加好友，并且和好友聊天

## 我们要做什么

今天我们不用去讨论再做一个微信是否可行，马云已经试过了，这事有点难

今天我们只从技术和成本角度去讨论如何快速简单实现一个像微信这样的社交应用

那么要做一个社交应用，注意，核心目的是社交，具体要做哪些呢

我们先看一个用户为达到社交目的对应用的简单使用流程

首先，用户要注册并登录应用

然后，开始查找人，添加为好友，最终两个人开始聊天、交流，达到社交的目的

但是，两个人不可能一直通过聊天来达到社交的目的，如果不聊了呢，那就通过展示自己生活、工作、心情等状态，让好友了解自己，好友也可以评论状态来达到间接交流

从上面的使用流程，归纳一下，至少要包含下面三个部分

* 账号模块，用户注册登录，好友关系维护
* 实时聊天模块，好友之间的实时聊天
* 朋友圈模块，好友之间的状态分享及互动

好，核心需求确定了，终于知道我们做什么了，要开始动手了么，别急

让我们再来稍微详细理一下要做哪些具体功能

账号系统  | 实时聊天 | 朋友圈
------------- | ------------- | ---------
手机注册并登录  | 单聊、群聊  | 发状态，支持文本、图片、视频、链接
第三方社交平台登录  | 消息格式支持文本、图片、视频、音频、地理位置等  | 状态列表、评论、点赞、互动
查询好友，加好友、删好友  | 聊天历史，敏感词过滤  | 隐私设置
创建群，加入、退出群组  | 多端设备同步 |

## 怎么做

重点终于到了，根据业务需求，我们已经大概知道要做什么了，一个互联网应用，除了业务需求，技术需求也是需要重点考虑的，不然你懂的

作为一个实时聊天社交应用，下面这些技术需求是需要考虑的

* 可用性，服务器天天宕机，应用还是尽早下架吧，所以集群实现模式是不是要尽早考虑
* 时效性，一条消息发了半天才收到，那还是去用邮件吧，别玩实时聊天
* 扩展性，假如我们人品大爆发，像papi酱这样短时间内爆红，短时间大量用户使用，服务是否能自动水平扩展，切记，我们不要做足记第二

哎，是不是有好多事情要做，再来看看我们需要做的有哪些

* 对接手机短信供应商，获取验证码登录
* 对接第三方社交平台，通过第三方社交平台登录
* 自建或者对接第三方文件存储平台
* 自建或者直接使用第三方数据库服务
* 自建或者使用第三方实时通讯服务
* 自建或者使用第三方应用服务器
* 运维后端服务器
* 保证服务的高可用
* 移动端应用设计、实现
* （此处省略 1000 个字）

一个人能搞定么，能搞定的那是全才了，那我们需要有哪些资源呢

不同实现方式需要的资源以及时间也不一样，应用在不同使用规模阶段需要的资源也是不一样

还需要定个目标，OK，我们就以日活跃 5 万的标准为目标，支持 iOS 和 Android 两个平台

好了，我们要做哪些，以及要达到的规模也知道了，接下来要开始进入正题了，来看看我们有哪些实现方案以及每个方案对应所需的资源及成本

### 有时间有钱有人

假如我们想所有东西都自己做，自己管，我们都很牛X，也有时间，Ok，我们需要哪些？

* 人力资源，要一个小团队
   1. 产品经理
   2. 设计师
   3. 移动端工程师，包括 iOS 和 Android
   4. 后端开发工程师及运维
* 硬件资源
   1. 后端 6 台服务器（ 2 台应用服务器 ＋ 2 台缓存、中间件服务器 ＋ 2 台数据库服务器）

那么最小资源配置及成本如下：

硬件成本（阿里云）  | 人力成本 | 时间成本
------------- | ------------- | ---------
流量，1500 元/月  | 客户端开发 2 人，30,000 元／月  | 客户端开发，2 个月
服务器，4000 元/月  | 后端开发 2 人，40,000 元/月  | 后端开发，2 个月
  | 后端运维，1 人，15000 元/月  | 
  | 产品、设计，2 人，20000 元/月  | 

算下来，从开发到正式上线，注意，仅仅是到上线，最低的总成本为

时间成本  | 人力成本 | 
------------- | ------------- 
2 个月  | 210000 元  


貌似有点贵，假如我们没有那么多时间，也找不到牛X的人，我们只是想快速把应用做出来验证想法，还有其他方法么

其实，像实时聊天模块，我们可以直接使用第三方服务的，让专业的人做专业的事情

### 钱少时间紧

Ok，实时聊天这个模块自行实现起来有点复杂，还是选择第三方服务接入，各种省心、省事、省力

我们自己实现账号系统和朋友圈就可以，后端资源和研发成本可以减少一些

那么有哪些实时通讯的第三方服务可以选呢，目前市场有好多家，都是大同小异，我们先简单了解一下

服务商  | 简介 | 官网
------------- | ------------- | ---------
融云  | 即时通讯云服务提供商  | [http://www.rongcloud.cn](http://www.rongcloud.cn)
MaxLeap  | 支持数据存储，即时通讯等移动应用一站式后端服务平台  | [https://maxleap.cn/](https://maxleap.cn/)
环信云  | 提供即时通讯和移动客服的云服务提供商  | [http://www.easemob.com/](http://www.easemob.com/)
网易云信  | 网易公司推出了一款IM云服务产品  | [http://netease.im/](http://netease.im/)

今天我们不去深入研究每家即时通讯云服务的优缺点并选择，我们只是想找到快速把应用实现出来的解决方案，好验证我们的想法

毕竟互联网时代强调的是快，快，快，重要的事情说三遍，这个时代的时间成本太高了

好了，回归正题

假如我们选择第三方即时通讯服务来实现实时聊天模块，我们还需要哪些？

* 人力资源，估计还是得一个小团队
   1. 产品经理
   2. 设计师
   3. 移动端工程师，包括 iOS 和 Android
   4. 后端开发工程师，并兼职运维
* 硬件资源，减少了一些
   1. 后端 4 台服务器（ 2 台应用服务器 ＋ 2 台数据库服务器）

那么最小资源配置及成本如下：

硬件成本（阿里云）  | 人力成本 | 时间成本
------------- | ------------- | ---------
流量，1000 元/月  | 客户端开发 2 人，30,000 元／月  | 客户端开发，1.5 个月
服务器，3000 元/月  | 后端兼运维 1 人，20,000 元/月  | 后端开发，1 个月
  | 产品、设计，2 人，20000 元/月  | 

算下来，从开发到正式上线，注意，仅仅是到上线，最低的总成本为

时间成本  | 人力成本 | 
------------- | ------------- 
1.5 个月  | 105000 元  

是不是比完全自己搞省了很多有木有，而且还快速简单，想想是不是有点小激动呢

既然实时通讯可以使用第三方服务，账号系统和朋友圈模块呢，有没有第三方数据存储服务可以直接使用，然后我们就只关心移动端的创意？

只有你想不到，没有做不到

### 省时省钱省力

其实，还真有，现在是移动互联时代，你的艳照啥的，都能放在云上，还有什么不可以

目前市场上主要有两家公司提供移动应用数据存储服务

服务商  | 简介 | 官网
------------- | ------------- | ---------
MaxLeap  | 支持数据存储，数据分析，即时通讯等移动应用一站式后端服务平台  | [https://maxleap.cn/](https://maxleap.cn/)
LeanCloud  | 移动应用的 BaaS 提供商  | [https://leancloud.cn/](https://leancloud.cn/)

好了，如果我们完全都是基于第三方服务实现，我们还需要哪些呢？

* 人力资源，估计还是得一个小团队
   1. 产品经理
   2. 设计师
   3. 移动端工程师，包括 iOS 和 Android
* 硬件资源，不需要
   1. 我们不需要关注各种运维，各种后端复杂逻辑，各种高可用
   2. 我们只需关注移动端创意，本来就应该如此

那么最小资源配置及成本如下：

| 人力成本 | 时间成本
| ------------- | ---------
| 客户端开发 2 人，40,000 元／月  | 客户端开发，1 个月
| 产品、设计，2 人，20000 元/月  | 

算下来，从开发到正式上线，注意，仅仅是到上线，最低的总成本为

时间成本  | 人力成本 | 
------------- | ------------- 
1 个月  | 60000 元  

那么快，那么简单，还那么省钱，很激动有木有、有木有

在讲究快速的互联网时代，我们不能所有事情都自己做，专业的人做专业的事，我们需要的是时间和效率


## 难不难

这个问题，其实因人而异，没有绝对的答案

以最快的时间和最低的成本达到目的，也许是我们追求的目标

找到合适自己的才是最重要的

