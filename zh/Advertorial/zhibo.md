# 如何快速实现移动端 B2C 直播应用

 
## 我们技术上需要考虑哪些

### 客户端

客户端主要类型是 iOS、Android。

#### iOS

优势在于 8.0 之后开放了硬编码的接口，介于只有 Apple 在做硬件，在硬件兼容性上要好很多，但是很少有人会告诉你在 iOS 不同版本上还是有很多的坑和差异，这点需要时间积累和经验。另外在软编上，码控方面会好一点。

#### Android
主要问题在于机型和版本的集合实在太多了，硬编变成了不可能完成的任务，只能希望 google 有什么在硬件上一致的协议等等了，这点在 MTK 这个低端平台上尤为突出，MTK 用 gpu 做硬件编解码，没有专业的 DSP 芯片，这个真心很累。软编也有很多选型，不一定非要用 ffmpeg ，思科的 openh264 也是不错的选择。

这些问题都会在做的过程中被发现，并花费大量的时间和精力进行解决，需要招聘专业的视频开发工程师，iOS 工程师，Android 工程师。

### 服务端

#### 依赖 CDN 厂商，
nginx-rtmp or srs + CDN ，nginx-rtmp 或者 srs 做为源站，上下行用 CDN 厂商，CDN 厂商对于直播场景还是做了一些优化的，比如用 push 模型降低延迟，但是因为直播的场景和传统的文件分发的场景不一致，文件分发看中的其实 CDN 的 cache 功能，而直播看中的是网络分发能力，主要是最佳链路的选择。

对应人力方面，需要运维人员和有一定开发能力的工程师。

#### 自建节点
相对更复杂了，但是好处就是可以选择更优质的节点，按需部署节点，用更智能的算法选择链路，这个对分布式算法，网络都有非常高的要求，找到这样的工程师有时候是要靠运气的。

主要需要网络工程师、分布式工程师和算法工程师，还要有资深运维人员。


## 我们有哪些方案可以选择

来看看我们有哪些实现方案以及每个方案对应所需的资源及成本。

### 完全自行开发

假如我们想所有东西都自己做，自己组建技术团队，从移动端到后端，搭建完整服务。

PS：感觉只有土豪级团队才有能力这么做。

* 人力资源，要一个团队
   1. 产品经理：移动端、后端
   2. 设计师：移动端、后端
   3. 移动端：视频开发工程师，iOS 工程师，Android 工程师
   4. 后端：网络工程师、分布式工程师、算法工程师，资深运维人员
* 硬件资源
   1. 服务器端资源，估计不是一般团队能做的事情

从研发到上线，那么最小资源配置及成本如下：

  人力成本 | 时间成本
------------- | ------------- | ---------
 移动端 3 人，50,000 元／月  | 客户端开发，2 个月
 后端开发 4 人，100,000 元/月  | 后端开发，2 个月
 后端运维，1 人，20000 元/月  | 
 产品、设计，4 人，80000 元/月  | 

算下来，从开发到正式上线，**注意，仅仅是从开始开发到上线**，最低的总成本为：

时间成本  | 人力成本 | 
------------- | ------------- 
2 个月  | 500000 元  


### 使用直播云服务商

其实，我们可以直接使用第三方直播云服务，不用再自己完成从 0 开始搭建，让专业的人做专业的事情，各种省心、省事、省力，只需要移动端资源就行。

那么有哪些实时通讯的后端云服务可以选择呢，目前市场有好多家，都是大同小异，我们先简单了解一下：

服务商  | 简介 | 官网
------------- | ------------- | ---------
七牛云  | 国内领先的企业级公有云服务商  | [http://www.qiniu.com/](http://www.qiniu.com/)
金山云  | 国内领先的云计算服务提供商  | [http://www.ksyun.com/](http://www.ksyun.com/)
乐视云  | 全球首个基于产业链垂直整合、全面开放的跨行业、全终端视频云服务生态系统创立者  | [http://www.lecloud.com/zh-cn/](http://www.lecloud.com/zh-cn/)


今天我们不去深入研究每家即时通讯云服务的优缺点并选择，我们只是想找到快速把应用实现出来的解决方案，好验证我们的想法，毕竟互联网时代强调的是快，快，快，重要的事情说三遍，这个时代的时间成本太高了。

好了，回归正题，假如我们选择第三方即时通讯服务来实现实时聊天模块，我们还需要哪些？

* 人力资源，估计还是得一个小团队
   1. 产品经理
   2. 设计师
   3. 移动端工程师，包括 iOS 和 Android，视频开发
* 硬件资源，不需要
   1. 我们不需要关注各种运维，各种后端复杂逻辑，各种高可用

那么最小资源配置及成本如下：

 人力成本 | 时间成本
------------- | ------------- | ---------
 移动端 3 人，50000 元／月  | 客户端开发，2 个月
 产品、设计，2 人，30000 元/月  | 

算下来，从开发到正式上线，**注意，仅仅是从开始开发到上线**，最低的总成本为：

时间成本  | 人力成本 | 
------------- | ------------- 
2 个月  | 80000 元  

是不是比完全自己搞省了很多有木有，而且还快速简单，想想是不是有点小激动呢？

### 使用快速 App 生成平台

如果连技术团队也不想搭建，或者没有很多更多时间和资金，那该怎么办？

当然可以，目前市场上也有类似快速 App 制作平台选择，主要是如下两家:

服务商  | 简介 | 官网
------------- | ------------- | ---------
真旺云  | 快速移动应用研发平台  | [http://www.maxwon.cn/](http://www.maxwon.cn/)
小云社群  | 领先的社群应用平台 | [http://www.xiaoyun.com/](http://www.xiaoyun.com/)


* 人力资源，主要是设计和运营资源
   1. 运营人员
   2. 设计师
* 研发资源，不需要
* 硬件资源，不需要

从研发到上线，那么最小资源配置及成本如下：

服务成本| 人力成本 | 时间成本
------| ------------- | ---------
50000 元/年| 设计，1 人，10000 元/月   | 素材设计、准备 15 天


算下来，从开发到正式上线，**注意，仅仅是从开始开发到上线**，最低的总成本为：

时间成本  | 人力成本 | 
------------- | ------------- 
15 天  | 55000 元  

那么快，那么简单，还那么省钱，很激动有木有、有木有！！！

在讲究快速的互联网时代，我们不能所有事情都自己做，专业的人做专业的事，我们需要的是时间和效率。


## 我们该选择什么方案

以最快的时间和最低的成本达到目的，也许是我们追求的目标。

互联网时代，讲究精益创业，快速迭代、快速试错、验证想法，专注和快俨然已经成为每个创业者必备的能力，在同样资源和时间内，创业者能试错的次数越多，成功也许离你会更近。

**专注**，创业者应专注于做自己擅长的东西，专注自己的创意，专注自己业务，不要把过多的精力耗费在自己不擅长的地方，专业的事让专业的人去做。

**快**，正如雷军的所说，“天下武功，唯快不破”，同样的一个创意，也许不只是你一个人在做，如何能更快的推向市场，更快的迭代，每个创业者都应好好思考。

至于我们要选择什么方案，其实因人而异，没有绝对的答案。

找到合适自己的解决方案才是最重要的。

### 完全自建

对于有自己完整技术团队，资金雄厚的人来说，也许你可以考虑完全自建。

### 基于直播云服务

想快速验证想法，或者没有时间和资金搭建完整团队，基于直播云也许比较适合。

### 基于快速 App 生成平台

想快速验证想法，启动资金较少，无时间搭建技术研发团队，基于快速 App 生成平台也许比较适合。

