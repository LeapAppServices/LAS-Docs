
# 数据安全

##	MaxLeap的数据安全机制

每个到达MaxLeap云服务的请求是有由移动端SDK，管理后台，云代码或其他客户端发出，每个请求都附带一个security token。MaxLeap后台可以根据请求的security token确定请求发送者的身份和授权，并在处理数据请求的时候，根据发送者的授权过滤掉没有权限的数据。

##安全认证

MaxLeap对不同客户端提供不同的安全认证方式。

客户端类型|认证方式
---|---
支持账号系统的移动应用|用户账号认证后对生成session token
不使用账号系统的移动应用|用App ID和client key生成app security token
web console|公司账号认证后生成session token
Restful直接访问|通过restful key认证
CloudCode|使用session token或app security token

##安全授权

MaxLeap目前只提供类级别的安全授权机制，行级别的安全授权机制将在下个版本支持。

### 类级别安全设置

在管理界面的云数据界面创建类的时候，可以选择如下的级别

类安全级别|数据创建者|其他应用用户|公司管理员或MasterKey
---|---|---|---
`共享`|读/创建/修改/删除|读/创建|读/创建/修改/删除
`公开`|读/创建/修改/删除|读/创建/修改/删除|读/创建/修改/删除
`私有`|读/创建/修改/删除|创建|读/创建/修改/删除
`只读`|读|读|读/创建/修改/删除

云数据库的每一行记录都有一个ACL字段，该字段是一个json格式的数据，里面包含该行数据的creator。判断某个请求对应的用户是否为数据创建者就是根据ACL字段里的creator判断的。从移动端和web console发出的数据插入请求在MaxLeap后端处理的时候，会自动创建ACL并设置对应的creator。

下面是这四种类安全级别的一些使用场景。

* `共享`:论坛的帖子，回复，文章，共享图片等对所有人都可读，但只允许创建者修改
* `公开`:公共编辑的信息列表，所有人都能够创建，修改，读取和删除
* `私有`:备忘录，个人敏感信息等只对创建者本人可读，可修改和删除
* `只读`:如产品类别这样的信息，所有人都只能读，需要更新这些信息的时候只有管理员能更新

### CloudCode中的安全机制







    
    
